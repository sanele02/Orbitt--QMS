<!DOCTYPE html>
<html>
<head>
    <title>Test Password Reset</title>
    <link rel="icon" href="assets\orbittLogoDONE.png">
</head>
<body>
    <h2>Test Password Reset</h2>
    <input type="email" id="testEmail" placeholder="Enter email" value="sanele1238@gmail.com">
    <button id="testResetBtn">Send Reset Email</button>
    <div id="result"></div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.5.0/firebase-app.js";
        import { getAuth, sendPasswordResetEmail } from "https://www.gstatic.com/firebasejs/10.5.0/firebase-auth.js";

        const firebaseConfig = {
  apiKey: "",
  authDomain: "",
  projectId: "",
  storageBucket: "",
  messagingSenderId: "",
  appId: "",
  measurementId: ""
};

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        document.getElementById('testResetBtn').addEventListener('click', async () => {
            const email = document.getElementById('testEmail').value;
            const result = document.getElementById('result');
            
            try {
                const actionCodeSettings = {
                    url: 'https://orbit-4b990.web.app/Login.html?email=' + email,
                    handleCodeInApp: true
                };
                
                await sendPasswordResetEmail(auth, email, actionCodeSettings);
                result.innerHTML = `<p style="color: green;">Reset email sent to ${email}</p>`;
                console.log('Success: Reset email sent');
            } catch (error) {
                result.innerHTML = `<p style="color: red;">Error: ${error.message}</p>`;
                console.error('Error:', error);
            }
        });
    </script>
</body>
</html>